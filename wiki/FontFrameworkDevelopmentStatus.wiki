= Font Framework Development Status =

This page gives an overview of the current status of font framework development.

There have been lots of e-mails regarding font problems during the past year and I have made a start with an attempt to address some of those problems.  

The main issues that have been raised are:
  # Greek breathing marks are not displayed.
  # Hebrew vowels not displayed because they prevent correct rtl display.
  # Certain language fonts are not available on Android
  # Certain language character shaping and rtl are not correct - related to 2.

Here are my current plans.

== Prototype ==
Allow experienced Sword users to associate a font with a module using sdcard/jsword/fonts folder.

== Initial Implementation - Automate font override ==
This will hopefully address 1 and begin to address 3 for non complex languages.

  # Store fonts on a server.
  # Associate fonts with a module or language.
  # When a module is downloaded check the font association list and download a font if required.
  # When displaying a page add the css to the header to load any required font

The above will hopefully provide the correct display of modules with no user intervention.  Experienced users will be able to change font using the jsword/fonts folder.

== Shaping ==
It has been suggested that And Bible includes Graphite integration to display rtl and complex languages and I hope to look into this and try it out.  Any comments from current users would be appreciated.  

Graphite still requires fonts to be distributed so this would build on the initial font distribution framework.

The Android integration of Graphite seems to be being refined.

== Current Status ==
I have been testing various Greek fonts with the SBLGNT module.
|| GentiumPlus-R.ttf || squares due to missing chars in SBLGNT ||
|| SBL_grk.ttf || looks perfect to me ||
|| LinLibertine_R.otf || squares due to missing chars in SBLGNT ||
|| LinBiolinum_R.otf || squares due to missing chars in SBLGNT ||
|| GalSILR.ttf || looks good, possible missing char in Matt 1:6, etc ||
|| GalSILR-webfont.woff || woff doesn't seem to work - I think it is just Android 3.0+ but see http://stackoverflow.com/questions/3200069/css-fonts-on-android for fall back technique ||

So it seems that there are 2 fonts that look fine

= Prototype Framework =

I have built And Bible - Fonts which provides the ability for users to override the fonts used for a module and can be downloaded from the Downloads page.

To try it out
  # Install the new version on your mobile
  # Start And Bible, download SBLGNT and note the squares that represent missing font characters
  # Stop And Bible - Settings/Manage applications/And Bible/Force stop
  # Create this folder on your Android mobile:  mnt/sdcard/jsword/fonts
  # Copy the attached fonts.properties file which contains 'SBLGNT=GalSILR.ttf' to the above folder
  # Get GalSil21.zip
  # Extract GalSilR.ttf from the zip and copy to mnt/sdcard/jsword/fonts
  # Start And Bible and check that SBLGNT now displays correctly

Now you can associate different modules with other fonts by updating the properties file and copying the required font file to the fonts folder.

Please let us know what works and what doesn't.  Hopefully a list of fonts can be built to automatically download selected fonts to mobiles to help display certain modules or languages.